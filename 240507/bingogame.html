<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <title>title</title>
  <!-- https://aimreach.tistory.com/21 -->
  <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <style>
    .table {
      font-family: arial, sans-serif;
      /* border-collapse: collapse; */
      width: 500px;
      height: 500px;
    }

    .td {
      border: 1px solid #000000;
      text-align: center;
      padding: 8px;
    }
  </style>
</head>

<body>
  <h1>Bingo Game</h1>
  <h3 id="count"></h3>
</body>
<script>    
var size = 3        
var x = []; 
var cnt = 0; 
var tArr = []; 
var xcnt = 0; 
var ycnt = 0; 
var c1cnt = 0; 
var c2cnt = 0; 

for (i = 0; i < size; i++) { 
  tArr[i] = new Array(3);
} 

var count = document.getElementById("count"); 
count.innerHTML = "<h3>Bingo : " + cnt + "</h3>"; 

for (i = 0; i < size * size; i++) { 
  x[i] = i + 1; } 

for (i = 0; i < 9; i++) { 
  var t = Math.floor(Math.random() * 8); 
  var tmp = x[i]; x[i] = x[t]; x[t] = tmp; } 
  document.write("<table class='table' border='1'>"); 
    for (a = 0; a < size; a++) { 
      document.write("<tr>"); 
      for (b = 0; b < size; b++) { 
        document.write("<td class='td' id=" + a + b + " onclick='change(id)'>" + x[(a * 3) + b] + "</td>"); 
    } 
    document.write("</tr>"); 
  } 
  document.write("</table>"); 
  function change(id) {
    var bb = document.getElementById(id); bb.style.background = "lightblue"; 
    for (i = 0; i < size; i++) { 
      for (j = 0; j < size; j++) { 
        if (id == '' + i + j) { tArr[i][j] = 0; 
        } } } 
        cnt = 0; 
        c1cnt = 0; 
        c2cnt = 0; 
        for (i = 0; i < size; i++) { xcnt = 0; ycnt = 0; 
        for (j = 0; j < size; j++) { 
          if (tArr[i][j] == 0) { xcnt++; } 
        if (tArr[j][i] == 0) { ycnt++; } 
        if (i == j && tArr[i][j] == 0) { c1cnt++; } 
        if (i + j == 4 && tArr[i][j] == 0) { c2cnt++; } } 
        if (xcnt == 3) { cnt++; } 
        if (ycnt == 3) { cnt++; } } 
        if (c1cnt == 3) { cnt++; } 
        if (c2cnt == 3) { cnt++; } count.innerHTML = "<h3>Bingo : " + cnt + "</h3>"; };
</script>

</html>